/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ({

/***/ "../demo/src/index.js":
/*!****************************!*\
  !*** ../demo/src/index.js ***!
  \****************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _dist_diffy_min_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../dist/diffy.min.js */ \"../dist/diffy.min.js\");\n/* harmony import */ var _dist_diffy_min_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_dist_diffy_min_js__WEBPACK_IMPORTED_MODULE_0__);\n/* eslint-disable no-console */\n\nvar gridCanvas = document.querySelector('#grid-canvas');\nvar gridCtx = gridCanvas.getContext('2d');\nvar gridWidth = 1040;\nvar gridHeight = 800;\nvar resolutionX = 20;\nvar resolutionY = 15;\nvar cellWidth = gridWidth / resolutionX;\nvar cellHeight = gridHeight / resolutionY;\nvar PI = Math.PI;\nvar radius = 0;\n\nfunction drawGrid(matrix) {\n  matrix.forEach(function (row, rowIdx) {\n    row.forEach(function (column, colIdx) {\n      radius = 10;\n      gridCtx.beginPath();\n      gridCtx.fillStyle = \"rgb(\".concat(column, \", \").concat(column, \", \").concat(column, \")\");\n      gridCtx.arc(rowIdx * cellWidth, colIdx * cellHeight, radius, 0, 2 * PI, false);\n      gridCtx.fill();\n      gridCtx.closePath();\n    });\n  });\n}\n\nvar diffy = Object(_dist_diffy_min_js__WEBPACK_IMPORTED_MODULE_0__[\"create\"])({\n  resolution: {\n    x: resolutionX,\n    y: resolutionY\n  },\n  sensitivity: 0.2,\n  threshold: 21,\n  debug: true,\n  containerClassName: 'diffy--demo-debugger',\n  sourceDimensions: {\n    w: 130,\n    h: 100\n  },\n  onFrame: drawGrid\n});\nwindow.diffy = diffy;\n\n//# sourceURL=webpack:///../demo/src/index.js?");

/***/ }),

/***/ "../dist/diffy.min.js":
/*!****************************!*\
  !*** ../dist/diffy.min.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("!function(e,t){ true?module.exports=t():undefined}(window,function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"/\",n(n.s=1)}([function(e,t,n){e.exports=function(){return n(2)('!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"/\",r(r.s=0)}([function(e,t,r){\"use strict\";r.r(t);var n,o,u,i,f,a=function(e){return(e^e>>31)-(e>>31)},c=function(e,t){return e>t?0:255};onmessage=function(e){var t=e.data,r=t.buffer,l=t.data1,d=t.data2,s=t.width,p=t.height,b=t.sensitivity,y=t.threshold,v=0;f=1-b,n=new Uint32Array(r);for(var g=0;g<p;++g)for(var j=0;j<s;++j)o=(l[4*(v=g*s+j)]+l[4*v+1]+l[4*v+2])/3/f,u=(d[4*v]+d[4*v+1]+d[4*v+2])/3/f,i=c(a(o-u),y),n[v]=255<<24|i<<16|i<<8|i;postMessage(r)}}]);',n.p+\"74009e2f8988cc078ea1.worker.js\")}},function(e,t,n){e.exports=n(3)},function(e,t,n){\"use strict\";var i=window.URL||window.webkitURL;e.exports=function(e,t){try{try{var n;try{(n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(e),n=n.getBlob()}catch(t){n=new Blob([e])}return new Worker(i.createObjectURL(n))}catch(t){return new Worker(\"data:application/javascript,\"+encodeURIComponent(e))}}catch(e){if(!t)throw Error(\"Inline worker is not supported\");return new Worker(t)}}},function(e,t,n){\"use strict\";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n.r(t);var r=function(){function e(t){var n=t.tickFn,i=void 0===n?function(){}:n,r=t.captureFn,o=void 0===r?function(){}:r,a=t.DiffWorker,s=void 0===a?function(){}:a,d=t.roundFn,l=void 0===d?function(){}:d,c=t.win,u=void 0===c?{}:c,h=t.doc,f=void 0===h?{}:h,v=t.debug,m=void 0!==v&&v,g=t.sourceDimensions,p=void 0===g?{w:130,h:100}:g,w=t.onFrame,b=void 0===w?function(){}:w,y=t.sensitivity,E=void 0===y?.2:y,C=t.threshold,x=void 0===C?21:C,k=t.containerClassName,D=void 0===k?\"diffy--debug-view\":k,j=t.resolution,F=void 0===j?{x:10,y:5}:j;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var I=u;this.doc=f;this.captureConfig=Object.assign({},{audio:!1,video:{width:130,height:100}},{video:{width:p.w,height:p.h}}),this.tickFn=i.bind(I),this.captureFn=o,this.roundFn=l,this.onFrame=b,this.currentImageData=null,this.previousImageData=null,this.resolutionX=F.x,this.resolutionY=F.y,this.sensitivity=E,this.threshold=x,this.debug=m,this.containerClassName=D,this.debugViewCollapsed=!1,this.sourceWidth=p.w,this.sourceHeight=p.h,this.worker=new s,this.initialized=!1,this.VERSION=\"1.3.2\",I.addEventListener(\"load\",this.init.bind(this))}return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(e,[{key:\"toVideo\",value:function(e,t){t.src=e}},{key:\"toCanvas\",value:function(e,t){t.getContext(\"2d\").drawImage(e,0,0,t.width,t.height)}},{key:\"mirror\",value:function(e){var t=e.getContext(\"2d\");return t.translate(e.width,0),t.scale(-1,1),e}},{key:\"compare\",value:function(e,t){var n=e.data,i=t.data,r=n.length,o=new ArrayBuffer(r);this.worker.postMessage({buffer:o,data1:n,data2:i,sensitivity:this.sensitivity,threshold:this.threshold,width:this.sourceWidth,height:this.sourceHeight})}},{key:\"drawBlendImageFromBuffer\",value:function(e){this.blendImageData.data.set(new Uint8ClampedArray(e)),this.blendCanvasCtx.putImageData(this.blendImageData,0,0),this.previousImageData=this.currentImageData}},{key:\"blend\",value:function(e){var t=e.getContext(\"2d\"),n=e.width,i=e.height;this.currentImageData=t.getImageData(0,0,n,i),this.previousImageData=this.previousImageData||t.getImageData(0,0,n,i),this.compare(this.currentImageData,this.previousImageData)}},{key:\"createMatrix\",value:function(){var e,t,n,i=0,r=[],o=this.sourceWidth,a=this.sourceHeight,s=this.sourceWidth/this.resolutionX,d=this.sourceHeight/this.resolutionY,l=null,c=0;for(e=0;e<o;e+=s){var u=[];for(t=0;t<a;t+=d){for(n=(l=this.blendCanvasCtx.getImageData(e,t,s,d).data).length/4;i<n;)c+=(l[4*i]+l[4*i+1]+l[4*i+2])/3,++i;c=this.roundFn(c/n),u.push(c),c=0,i=0}r.push(u)}return r}},{key:\"loop\",value:function(){this.toCanvas(this.videoEl,this.rawCanvasEl),this.blend(this.rawCanvasEl),this.onFrame(this.createMatrix()),this.tickFn(this.loop.bind(this))}},{key:\"init\",value:function(){var e=this;this.worker.addEventListener(\"error\",function(e){throw e}),this.worker.addEventListener(\"message\",function(t){var n=t.data;e.drawBlendImageFromBuffer(n)}),this.initDom(this.containerClassName),this.blendCanvasCtx=this.blendCanvasEl.getContext(\"2d\"),this.blendImageData=this.blendCanvasCtx.getImageData(0,0,this.sourceWidth,this.sourceHeight),this.captureFn(this.captureConfig).then(function(t){[e.rawCanvasEl,e.blendCanvasEl].forEach(e.mirror),e.toVideo(t,e.videoEl),e.loop()}),this.initialized=!0}},{key:\"createElements\",value:function(e){var t=this;this.containerEl=this.doc.createElement(\"div\"),this.containerEl.className=e,this.videoEl=this.doc.createElement(\"video\"),this.videoEl.className=\"video view\",this.videoEl.setAttribute(\"autoplay\",\"\"),this.videoEl.width=this.sourceWidth,this.videoEl.height=this.sourceHeight,this.rawCanvasEl=this.doc.createElement(\"canvas\"),this.rawCanvasEl.className=\"canvas--raw view\",this.rawCanvasEl.width=this.sourceWidth,this.rawCanvasEl.height=this.sourceHeight,this.blendCanvasEl=this.doc.createElement(\"canvas\"),this.blendCanvasEl.className=\"canvas--blend view\",this.blendCanvasEl.width=this.sourceWidth,this.blendCanvasEl.height=this.sourceHeight,this.headerEl=this.doc.createElement(\"header\"),this.headerEl.className=\"header\",this.titleEl=this.doc.createElement(\"h1\"),this.titleEl.className=\"title\",this.titleEl.innerText=\"Diffy debug view\",this.toggleEl=this.doc.createElement(\"span\"),this.toggleEl.className=\"toggle\",this.toggleEl.innerText=\"-\",this.headerEl.addEventListener(\"click\",function(e){e.preventDefault(),[t.videoEl,t.rawCanvasEl,t.blendCanvasEl].forEach(function(e){t.debugViewCollapsed?(e.classList.remove(\"hidden\"),t.toggleEl.innerText=\"-\"):(e.classList.add(\"hidden\"),t.toggleEl.innerText=\"+\")}),t.debugViewCollapsed=!t.debugViewCollapsed}),this.headerEl.appendChild(this.toggleEl),this.headerEl.appendChild(this.titleEl),this.containerEl.appendChild(this.headerEl),this.containerEl.appendChild(this.videoEl),this.containerEl.appendChild(this.rawCanvasEl),this.containerEl.appendChild(this.blendCanvasEl),this.doc.body.appendChild(this.containerEl),this.debug||this.containerEl.classList.add(\"hidden\")}},{key:\"injectCssStyles\",value:function(){var e=this.doc.createElement(\"style\"),t=this.containerClassName,n=\"\\n      .\".concat(t,' {\\n        position: fixed;\\n        top: 0;\\n        left: 0;\\n        font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\\n        background-color: #000;\\n        border: 4px solid #000;\\n        color: #fff;\\n      }\\n      .').concat(t,\" .header {\\n        width: 100%;\\n        background-color: #000;\\n        font-size: 16px;\\n        cursor: pointer;\\n      }\\n      .\").concat(t,\" .title {\\n        display: inline;\\n        margin-left: 10px;\\n        font-weight: 300;\\n        letter-spacing: 2px;\\n        font-size: 16px;\\n      }\\n      .\").concat(t,\" .toggle { padding: 5px; }\\n      .\").concat(t,\" .view { padding: 5px; }\\n      .\").concat(t,\" .view.hidden, .\").concat(t,\".hidden { display: none; }\\n    \");e.innerHTML=n,this.doc.body.appendChild(e)}},{key:\"initDom\",value:function(e){this.createElements(e),this.injectCssStyles()}}],[{key:\"create\",value:function(e){return new this(e)}}]),e}(),o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e,t,n){var i=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return i?new Promise(function(t,n){i.call(navigator,e,t,n)}):Promise.reject(new Error(\"getUserMedia is not implemented in this browser\"))});var a=function(e){return navigator.mediaDevices.getUserMedia(e).then(function(e){return window.URL.createObjectURL(e)}).catch(function(e){var t=e.name,n=e.message;return console.error(\"\".concat(t,\" : \").concat(n))})},s=n(0),d=n.n(s),l=function(e){return e+.5>>0};n.d(t,\"create\",function(){return u});var c=!1,u=function(e){var t=e.resolution,n=e.sensitivity,i=e.threshold,s=e.debug,u=e.onFrame,h=e.sourceDimensions,f=e.containerClassName;if(!window)throw new Error(\"\\n      Diffy.js is meant to be used in the browser. :^)\\n      For more info, see: https://github.com/maniart/diffyjs/blob/master/README.md\\n    \");if(!(\"Worker\"in window))throw new Error(\"\\n      Diffy.js requires Web Workers.\\n      It looks like this environment does not support this feature. :(\\n      For more info, see: https://github.com/maniart/diffyjs/blob/master/README.md\\n    \");if(c)throw new Error(\"\\n      Yikes! It seems like a Diffy.js instance already exists on this page. :|\\n      For more info, see: https://github.com/maniart/diffyjs/blob/master/README.md\\n    \");var v=r.create({tickFn:o,captureFn:a,DiffWorker:d.a,roundFn:l,win:window,doc:document,resolution:t,sensitivity:n,threshold:i,debug:s,onFrame:u,sourceDimensions:h,containerClassName:f});return c=!0,v}}])});\n\n//# sourceURL=webpack:///../dist/diffy.min.js?");

/***/ }),

/***/ 0:
/*!*******************************!*\
  !*** multi ../demo/src/index ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__(/*! /Users/maninilchiani/Workspace/diffyjs/demo/src/index */\"../demo/src/index.js\");\n\n\n//# sourceURL=webpack:///multi_../demo/src/index?");

/***/ })

/******/ });