/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ({

/***/ "../demo/src/index.js":
/*!****************************!*\
  !*** ../demo/src/index.js ***!
  \****************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _dist_diffy_min_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../dist/diffy.min.js */ \"../dist/diffy.min.js\");\n/* harmony import */ var _dist_diffy_min_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_dist_diffy_min_js__WEBPACK_IMPORTED_MODULE_0__);\n/* eslint-disable no-console */\n\nvar gridCanvas = document.querySelector('#grid-canvas');\nvar gridCtx = gridCanvas.getContext('2d');\nvar gridWidth = 1040;\nvar gridHeight = 800;\nvar resolutionX = 20;\nvar resolutionY = 15;\nvar cellWidth = gridWidth / resolutionX;\nvar cellHeight = gridHeight / resolutionY;\nvar PI = Math.PI;\nvar radius = 0;\n\nfunction drawGrid(matrix) {\n  matrix.forEach(function (row, rowIdx) {\n    row.forEach(function (column, colIdx) {\n      radius = 10;\n      gridCtx.beginPath();\n      gridCtx.fillStyle = \"rgb(\".concat(column, \", \").concat(column, \", \").concat(column, \")\");\n      gridCtx.arc(rowIdx * cellWidth, colIdx * cellHeight, radius, 0, 2 * PI, false);\n      gridCtx.fill();\n      gridCtx.closePath();\n    });\n  });\n}\n\nvar diffy = Object(_dist_diffy_min_js__WEBPACK_IMPORTED_MODULE_0__[\"create\"])({\n  resolution: {\n    x: resolutionX,\n    y: resolutionY\n  },\n  sensitivity: 0.2,\n  threshold: 21,\n  debug: true,\n  containerClassName: 'diffy--demo-debugger',\n  sourceDimensions: {\n    w: 130,\n    h: 100\n  },\n  onFrame: drawGrid\n});\nwindow.diffy = diffy;\n\n//# sourceURL=webpack:///../demo/src/index.js?");

/***/ }),

/***/ "../dist/diffy.min.js":
/*!****************************!*\
  !*** ../dist/diffy.min.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("!function(e,n){ true?module.exports=n():undefined}(window,function(){return function(e){var n={};function r(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=n,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&\"object\"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,\"default\",{enumerable:!0,value:e}),2&n&&\"string\"!=typeof e)for(var i in e)r.d(t,i,function(n){return e[n]}.bind(null,i));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,\"a\",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p=\"/\",r(r.s=0)}({\"../node_modules/worker-loader/dist/cjs.js?inline!./worker.js\":\n/*!********************************************************************!*\\\n  !*** ../node_modules/worker-loader/dist/cjs.js?inline!./worker.js ***!\n  \\********************************************************************/\n/*! no static exports found */function(module,exports,__webpack_require__){eval('module.exports = function() {\\n  return __webpack_require__(/*! !../node_modules/worker-loader/dist/workers/InlineWorker.js */ \"../node_modules/worker-loader/dist/workers/InlineWorker.js\")(\"!function(e){var n={};function r(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=n,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){\\\\\"undefined\\\\\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\\\\\"Module\\\\\"}),Object.defineProperty(e,\\\\\"__esModule\\\\\",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&\\\\\"object\\\\\"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,\\\\\"default\\\\\",{enumerable:!0,value:e}),2&n&&\\\\\"string\\\\\"!=typeof e)for(var a in e)r.d(t,a,function(n){return e[n]}.bind(null,a));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,\\\\\"a\\\\\",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p=\\\\\"/\\\\\",r(r.s=\\\\\"../node_modules/babel-loader/lib/index.js!./worker.js\\\\\")}({\\\\\"../node_modules/babel-loader/lib/index.js!./worker.js\\\\\":\\\\n/*!****************************************************!*\\\\\\\\\\\\n  !*** ../node_modules/babel-loader/lib!./worker.js ***!\\\\n  \\\\\\\\****************************************************/\\\\n/*! no exports provided */function(module,__webpack_exports__,__webpack_require__){\\\\\"use strict\\\\\";eval(\\'__webpack_require__.r(__webpack_exports__);\\\\\\\\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \\\\\"./utils.js\\\\\");\\\\\\\\n\\\\\\\\nvar pixelData;\\\\\\\\nvar average1;\\\\\\\\nvar average2;\\\\\\\\nvar delta;\\\\\\\\nvar actualSensitivity;\\\\\\\\n\\\\\\\\nvar createDiffBuffer = function createDiffBuffer(_ref) {\\\\\\\\n  var _ref$data = _ref.data,\\\\\\\\n      buffer = _ref$data.buffer,\\\\\\\\n      data1 = _ref$data.data1,\\\\\\\\n      data2 = _ref$data.data2,\\\\\\\\n      width = _ref$data.width,\\\\\\\\n      height = _ref$data.height,\\\\\\\\n      sensitivity = _ref$data.sensitivity,\\\\\\\\n      threshold = _ref$data.threshold;\\\\\\\\n  var i = 0;\\\\\\\\n  actualSensitivity = 1 - sensitivity;\\\\\\\\n  pixelData = new Uint32Array(buffer);\\\\\\\\n\\\\\\\\n  for (var y = 0; y < height; ++y) {\\\\\\\\n    for (var x = 0; x < width; ++x) {\\\\\\\\n      i = y * width + x;\\\\\\\\n      average1 = (data1[i * 4] + data1[i * 4 + 1] + data1[i * 4 + 2]) / 3 / actualSensitivity;\\\\\\\\n      average2 = (data2[i * 4] + data2[i * 4 + 1] + data2[i * 4 + 2]) / 3 / actualSensitivity;\\\\\\\\n      delta = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\\\\\"polarize\\\\\"])(Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\\\\\"abs\\\\\"])(average1 - average2), threshold);\\\\\\\\n      pixelData[i] = 255 << 24 | // alpha\\\\\\\\n      delta << 16 | // blue\\\\\\\\n      delta << 8 | // green\\\\\\\\n      delta; // red\\\\\\\\n    }\\\\\\\\n  }\\\\\\\\n\\\\\\\\n  postMessage(buffer);\\\\\\\\n};\\\\\\\\n\\\\\\\\nonmessage = createDiffBuffer;\\\\\\\\n\\\\\\\\n//# sourceURL=webpack://Diffy/./worker.js?../node_modules/babel-loader/lib\\')},\\\\\"./utils.js\\\\\":\\\\n/*!******************!*\\\\\\\\\\\\n  !*** ./utils.js ***!\\\\n  \\\\\\\\******************/\\\\n/*! exports provided: createOnceLog, $, round, abs, polarize */function(module,__webpack_exports__,__webpack_require__){\\\\\"use strict\\\\\";eval(\\'__webpack_require__.r(__webpack_exports__);\\\\\\\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\\\"createOnceLog\\\\\", function() { return createOnceLog; });\\\\\\\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\\\"$\\\\\", function() { return $; });\\\\\\\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\\\"round\\\\\", function() { return round; });\\\\\\\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\\\"abs\\\\\", function() { return abs; });\\\\\\\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\\\"polarize\\\\\", function() { return polarize; });\\\\\\\\n/* eslint-disable no-console */\\\\\\\\n\\\\\\\\n/*\\\\\\\\n  utility function to log only once\\\\\\\\n  useful for logging in loops\\\\\\\\n*/\\\\\\\\nvar createOnceLog = function createOnceLog() {\\\\\\\\n  var counter = 0;\\\\\\\\n  return function onceLog() {\\\\\\\\n    if (counter < 1) {\\\\\\\\n      var _console;\\\\\\\\n\\\\\\\\n      (_console = console).log.apply(_console, arguments);\\\\\\\\n    }\\\\\\\\n\\\\\\\\n    counter++;\\\\\\\\n  };\\\\\\\\n};\\\\\\\\n/*\\\\\\\\n  utility function to access DOM references\\\\\\\\n*/\\\\\\\\n\\\\\\\\nvar $ = function $(selector) {\\\\\\\\n  return document.querySelector(selector);\\\\\\\\n};\\\\\\\\n/*\\\\\\\\n  bitwise Math.round\\\\\\\\n*/\\\\\\\\n\\\\\\\\nvar round = function round(number) {\\\\\\\\n  return number + .5 >> 0;\\\\\\\\n};\\\\\\\\n/*\\\\\\\\n  bitwise Math.abs\\\\\\\\n*/\\\\\\\\n\\\\\\\\nvar abs = function abs(value) {\\\\\\\\n  return (value ^ value >> 31) - (value >> 31);\\\\\\\\n};\\\\\\\\n/*\\\\\\\\n  polarize pixel values based on value and threshold\\\\\\\\n*/\\\\\\\\n\\\\\\\\nvar polarize = function polarize(value, threshold) {\\\\\\\\n  return value > threshold ? 0x00 : 0XFF;\\\\\\\\n};\\\\\\\\n\\\\\\\\n//# sourceURL=webpack://Diffy/./utils.js?\\')}});\", __webpack_require__.p + \"3d01fdcaec2c39c7f5c4.worker.js\");\\n};\\n\\n//# sourceURL=webpack://Diffy/./worker.js?../node_modules/worker-loader/dist/cjs.js?inline')},\"../node_modules/worker-loader/dist/workers/InlineWorker.js\":\n/*!******************************************************************!*\\\n  !*** ../node_modules/worker-loader/dist/workers/InlineWorker.js ***!\n  \\******************************************************************/\n/*! no static exports found */function(module,exports,__webpack_require__){\"use strict\";eval(\"\\n\\n// http://stackoverflow.com/questions/10343913/how-to-create-a-web-worker-from-a-string\\n\\nvar URL = window.URL || window.webkitURL;\\n\\nmodule.exports = function (content, url) {\\n  try {\\n    try {\\n      var blob;\\n\\n      try {\\n        // BlobBuilder = Deprecated, but widely implemented\\n        var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder;\\n\\n        blob = new BlobBuilder();\\n\\n        blob.append(content);\\n\\n        blob = blob.getBlob();\\n      } catch (e) {\\n        // The proposed API\\n        blob = new Blob([content]);\\n      }\\n\\n      return new Worker(URL.createObjectURL(blob));\\n    } catch (e) {\\n      return new Worker('data:application/javascript,' + encodeURIComponent(content));\\n    }\\n  } catch (e) {\\n    if (!url) {\\n      throw Error('Inline worker is not supported');\\n    }\\n\\n    return new Worker(url);\\n  }\\n};\\n\\n//# sourceURL=webpack://Diffy/../node_modules/worker-loader/dist/workers/InlineWorker.js?\")},\"./Diffy.js\":\n/*!******************!*\\\n  !*** ./Diffy.js ***!\n  \\******************/\n/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\"default\\\", function() { return Diffy; });\\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\\\"Cannot call a class as a function\\\"); } }\\n\\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\\\"value\\\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\\n\\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\\n\\nvar Diffy =\\n/*#__PURE__*/\\nfunction () {\\n  function Diffy(_ref) {\\n    var _ref$tickFn = _ref.tickFn,\\n        tickFn = _ref$tickFn === void 0 ? function () {} : _ref$tickFn,\\n        _ref$captureFn = _ref.captureFn,\\n        captureFn = _ref$captureFn === void 0 ? function () {} : _ref$captureFn,\\n        _ref$DiffWorker = _ref.DiffWorker,\\n        DiffWorker = _ref$DiffWorker === void 0 ? function () {} : _ref$DiffWorker,\\n        _ref$roundFn = _ref.roundFn,\\n        roundFn = _ref$roundFn === void 0 ? function () {} : _ref$roundFn,\\n        _ref$win = _ref.win,\\n        win = _ref$win === void 0 ? {} : _ref$win,\\n        _ref$doc = _ref.doc,\\n        doc = _ref$doc === void 0 ? {} : _ref$doc,\\n        _ref$debug = _ref.debug,\\n        debug = _ref$debug === void 0 ? false : _ref$debug,\\n        _ref$sourceDimensions = _ref.sourceDimensions,\\n        sourceDimensions = _ref$sourceDimensions === void 0 ? {\\n      w: 130,\\n      h: 100\\n    } : _ref$sourceDimensions,\\n        _ref$onFrame = _ref.onFrame,\\n        onFrame = _ref$onFrame === void 0 ? function () {} : _ref$onFrame,\\n        _ref$sensitivity = _ref.sensitivity,\\n        sensitivity = _ref$sensitivity === void 0 ? 0.2 : _ref$sensitivity,\\n        _ref$threshold = _ref.threshold,\\n        threshold = _ref$threshold === void 0 ? 21 : _ref$threshold,\\n        _ref$containerClassNa = _ref.containerClassName,\\n        containerClassName = _ref$containerClassNa === void 0 ? 'diffy--debug-view' : _ref$containerClassNa,\\n        _ref$resolution = _ref.resolution,\\n        resolution = _ref$resolution === void 0 ? {\\n      x: 10,\\n      y: 5\\n    } : _ref$resolution;\\n\\n    _classCallCheck(this, Diffy);\\n\\n    var _win = win;\\n    this.doc = doc;\\n    var baseCaptureConfig = {\\n      audio: false,\\n      video: {\\n        width: 130,\\n        height: 100\\n      }\\n    };\\n    this.captureConfig = Object.assign({}, baseCaptureConfig, {\\n      video: {\\n        width: sourceDimensions.w,\\n        height: sourceDimensions.h\\n      }\\n    });\\n    this.tickFn = tickFn.bind(_win);\\n    this.captureFn = captureFn;\\n    this.roundFn = roundFn;\\n    this.onFrame = onFrame;\\n    this.currentImageData = null;\\n    this.previousImageData = null;\\n    this.resolutionX = resolution.x;\\n    this.resolutionY = resolution.y;\\n    this.sensitivity = sensitivity;\\n    this.threshold = threshold;\\n    this.debug = debug;\\n    this.containerClassName = containerClassName;\\n    this.debugViewCollapsed = false;\\n    this.sourceWidth = sourceDimensions.w;\\n    this.sourceHeight = sourceDimensions.h;\\n    this.worker = new DiffWorker();\\n    this.initialized = false;\\n    this.VERSION = '1.3.2';\\n\\n    _win.addEventListener('load', this.init.bind(this));\\n  }\\n\\n  _createClass(Diffy, [{\\n    key: \\\"toVideo\\\",\\n    value: function toVideo(stream, videoEl) {\\n      // piping blob to video element\\n      videoEl.srcObject = stream;\\n    }\\n  }, {\\n    key: \\\"toCanvas\\\",\\n    value: function toCanvas(video, canvas) {\\n      // piping video to canvas\\n      canvas.getContext('2d').drawImage(video, 0, 0, canvas.width, canvas.height);\\n    }\\n  }, {\\n    key: \\\"mirror\\\",\\n    value: function mirror(canvas) {\\n      var ctx = canvas.getContext('2d');\\n      ctx.translate(canvas.width, 0);\\n      ctx.scale(-1, 1);\\n      return canvas;\\n    }\\n  }, {\\n    key: \\\"compare\\\",\\n    value: function compare(frame1, frame2) {\\n      var data1 = frame1.data;\\n      var data2 = frame2.data;\\n      var length = data1.length;\\n      var buffer = new ArrayBuffer(length);\\n      this.worker.postMessage({\\n        buffer: buffer,\\n        data1: data1,\\n        data2: data2,\\n        sensitivity: this.sensitivity,\\n        threshold: this.threshold,\\n        width: this.sourceWidth,\\n        height: this.sourceHeight\\n      });\\n    }\\n  }, {\\n    key: \\\"drawBlendImageFromBuffer\\\",\\n    value: function drawBlendImageFromBuffer(buffer) {\\n      this.blendImageData.data.set(new Uint8ClampedArray(buffer));\\n      this.blendCanvasCtx.putImageData(this.blendImageData, 0, 0);\\n      this.previousImageData = this.currentImageData;\\n    }\\n    /*\\n      blend two consecutive frames\\n      returns imageData\\n    */\\n\\n  }, {\\n    key: \\\"blend\\\",\\n    value: function blend(canvas) {\\n      var ctx = canvas.getContext('2d');\\n      var width = canvas.width;\\n      var height = canvas.height;\\n      this.currentImageData = ctx.getImageData(0, 0, width, height);\\n      this.previousImageData = this.previousImageData || ctx.getImageData(0, 0, width, height);\\n      this.compare(this.currentImageData, this.previousImageData);\\n    }\\n  }, {\\n    key: \\\"createMatrix\\\",\\n    value: function createMatrix() {\\n      var i;\\n      var j;\\n      var k = 0;\\n      var matrix = [];\\n      var sourceWidth = this.sourceWidth;\\n      var sourceHeight = this.sourceHeight;\\n      var cellWidth = this.sourceWidth / this.resolutionX;\\n      var cellHeight = this.sourceHeight / this.resolutionY;\\n      var cellImageData = null;\\n      var cellImageDataLength;\\n      var cellPixelCount;\\n      var average = 0;\\n\\n      for (i = 0; i < sourceWidth; i += cellWidth) {\\n        var row = [];\\n\\n        for (j = 0; j < sourceHeight; j += cellHeight) {\\n          cellImageData = this.blendCanvasCtx.getImageData(i, j, cellWidth, cellHeight).data;\\n          /* TODO refactor with bitshifting */\\n\\n          cellImageDataLength = cellImageData.length;\\n          cellPixelCount = cellImageDataLength / 4;\\n\\n          while (k < cellPixelCount) {\\n            average += (cellImageData[k * 4] + cellImageData[k * 4 + 1] + cellImageData[k * 4 + 2]) / 3;\\n            ++k;\\n          }\\n\\n          average = this.roundFn(average / cellPixelCount);\\n          /* push the value in the row */\\n\\n          row.push(average);\\n          average = 0;\\n          k = 0;\\n        }\\n\\n        matrix.push(row); // store the row in matrix\\n      }\\n\\n      return matrix;\\n    }\\n  }, {\\n    key: \\\"loop\\\",\\n    value: function loop() {\\n      this.toCanvas(this.videoEl, this.rawCanvasEl);\\n      this.blend(this.rawCanvasEl);\\n      this.onFrame(this.createMatrix());\\n      this.tickFn(this.loop.bind(this));\\n    }\\n  }, {\\n    key: \\\"init\\\",\\n    value: function init() {\\n      var _this = this;\\n\\n      this.worker.addEventListener('error', function (e) {\\n        throw e;\\n      });\\n      this.worker.addEventListener('message', function (_ref2) {\\n        var data = _ref2.data;\\n\\n        _this.drawBlendImageFromBuffer(data);\\n      });\\n      this.initDom(this.containerClassName);\\n      this.blendCanvasCtx = this.blendCanvasEl.getContext('2d');\\n      this.blendImageData = this.blendCanvasCtx.getImageData(0, 0, this.sourceWidth, this.sourceHeight);\\n      this.captureFn(this.captureConfig).then(function (stream) {\\n        [_this.rawCanvasEl, _this.blendCanvasEl].forEach(_this.mirror);\\n\\n        _this.toVideo(stream, _this.videoEl);\\n\\n        _this.loop();\\n      });\\n      this.initialized = true;\\n    }\\n  }, {\\n    key: \\\"createElements\\\",\\n    value: function createElements(containerClassName) {\\n      var _this2 = this;\\n\\n      this.containerEl = this.doc.createElement('div');\\n      this.containerEl.className = containerClassName;\\n      this.videoEl = this.doc.createElement('video');\\n      this.videoEl.className = 'video view';\\n      this.videoEl.setAttribute('autoplay', '');\\n      this.videoEl.width = this.sourceWidth;\\n      this.videoEl.height = this.sourceHeight;\\n      this.rawCanvasEl = this.doc.createElement('canvas');\\n      this.rawCanvasEl.className = 'canvas--raw view';\\n      this.rawCanvasEl.width = this.sourceWidth;\\n      this.rawCanvasEl.height = this.sourceHeight;\\n      this.blendCanvasEl = this.doc.createElement('canvas');\\n      this.blendCanvasEl.className = 'canvas--blend view';\\n      this.blendCanvasEl.width = this.sourceWidth;\\n      this.blendCanvasEl.height = this.sourceHeight;\\n      this.headerEl = this.doc.createElement('header');\\n      this.headerEl.className = 'header';\\n      this.titleEl = this.doc.createElement('h1');\\n      this.titleEl.className = 'title';\\n      this.titleEl.innerText = 'Diffy debug view';\\n      this.toggleEl = this.doc.createElement('span');\\n      this.toggleEl.className = 'toggle';\\n      this.toggleEl.innerText = '-';\\n      this.headerEl.addEventListener('click', function (ev) {\\n        ev.preventDefault();\\n        [_this2.videoEl, _this2.rawCanvasEl, _this2.blendCanvasEl].forEach(function (el) {\\n          if (_this2.debugViewCollapsed) {\\n            el.classList.remove('hidden');\\n            _this2.toggleEl.innerText = '-';\\n          } else {\\n            el.classList.add('hidden');\\n            _this2.toggleEl.innerText = '+';\\n          }\\n        });\\n        _this2.debugViewCollapsed = !_this2.debugViewCollapsed;\\n      });\\n      this.headerEl.appendChild(this.toggleEl);\\n      this.headerEl.appendChild(this.titleEl);\\n      this.containerEl.appendChild(this.headerEl);\\n      this.containerEl.appendChild(this.videoEl);\\n      this.containerEl.appendChild(this.rawCanvasEl);\\n      this.containerEl.appendChild(this.blendCanvasEl);\\n      this.doc.body.appendChild(this.containerEl);\\n\\n      if (!this.debug) {\\n        this.containerEl.classList.add('hidden');\\n      }\\n    }\\n  }, {\\n    key: \\\"injectCssStyles\\\",\\n    value: function injectCssStyles() {\\n      var node = this.doc.createElement('style');\\n      var containerClassName = this.containerClassName;\\n      var styles = \\\"\\\\n      .\\\".concat(containerClassName, \\\" {\\\\n        position: fixed;\\\\n        top: 0;\\\\n        left: 0;\\\\n        font-family: \\\\\\\"Helvetica Neue\\\\\\\", Helvetica, Arial, sans-serif;\\\\n        background-color: #000;\\\\n        border: 4px solid #000;\\\\n        color: #fff;\\\\n      }\\\\n      .\\\").concat(containerClassName, \\\" .header {\\\\n        width: 100%;\\\\n        background-color: #000;\\\\n        font-size: 16px;\\\\n        cursor: pointer;\\\\n      }\\\\n      .\\\").concat(containerClassName, \\\" .title {\\\\n        display: inline;\\\\n        margin-left: 10px;\\\\n        font-weight: 300;\\\\n        letter-spacing: 2px;\\\\n        font-size: 16px;\\\\n      }\\\\n      .\\\").concat(containerClassName, \\\" .toggle { padding: 5px; }\\\\n      .\\\").concat(containerClassName, \\\" .view { padding: 5px; }\\\\n      .\\\").concat(containerClassName, \\\" .view.hidden, .\\\").concat(containerClassName, \\\".hidden { display: none; }\\\\n    \\\");\\n      node.innerHTML = styles;\\n      this.doc.body.appendChild(node);\\n    }\\n  }, {\\n    key: \\\"initDom\\\",\\n    value: function initDom(containerClassName) {\\n      this.createElements(containerClassName);\\n      this.injectCssStyles();\\n    }\\n  }], [{\\n    key: \\\"create\\\",\\n    value: function create(options) {\\n      return new this(options);\\n    }\\n  }]);\\n\\n  return Diffy;\\n}();\\n\\n\\n\\n//# sourceURL=webpack://Diffy/./Diffy.js?\")},\"./capture.js\":\n/*!********************!*\\\n  !*** ./capture.js ***!\n  \\********************/\n/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* eslint-disable no-unused-vars */\\n\\n/* eslint-disable no-console */\\n\\n/*\\n  shim getUserMedia with a Promise api\\n  source: https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia\\n*/\\nvar getUserMedia = function getUserMedia(constraints, successCallback, errorCallback) {\\n  // First get a hold of getUserMedia, if present\\n  var getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia; // Some browsers just don\\'t implement it - return a rejected promise with an error\\n  // to keep a consistent interface\\n\\n  if (!getUserMedia) {\\n    return Promise.reject(new Error(\\'getUserMedia is not implemented in this browser\\'));\\n  } // Otherwise, wrap the call to the old navigator.getUserMedia with a Promise\\n\\n\\n  return new Promise(function (successCallback, errorCallback) {\\n    getUserMedia.call(navigator, constraints, successCallback, errorCallback);\\n  });\\n}; // Older browsers might not implement mediaDevices at all, so we set an empty object first\\n\\n\\nif (navigator.mediaDevices === undefined) {\\n  navigator.mediaDevices = {};\\n} // Some browsers partially implement mediaDevices. We can\\'t just assign an object\\n// with getUserMedia as it would overwrite existing properties.\\n// Here, we will just add the getUserMedia property if it\\'s missing.\\n\\n\\nif (navigator.mediaDevices.getUserMedia === undefined) {\\n  navigator.mediaDevices.getUserMedia = getUserMedia;\\n}\\n/*\\n  capture from camera\\n  returns objectUrl\\n */\\n\\n\\nvar capture = function capture(constraints) {\\n  return navigator.mediaDevices.getUserMedia(constraints).then(function (stream) {\\n    return stream;\\n  }).catch(function (_ref) {\\n    var name = _ref.name,\\n        message = _ref.message;\\n    return console.error(\"\".concat(name, \" : \").concat(message));\\n  });\\n};\\n\\n/* harmony default export */ __webpack_exports__[\"default\"] = (capture);\\n\\n//# sourceURL=webpack://Diffy/./capture.js?')},\"./index.js\":\n/*!******************!*\\\n  !*** ./index.js ***!\n  \\******************/\n/*! exports provided: create */function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"create\", function() { return create; });\\n/* harmony import */ var _Diffy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Diffy */ \"./Diffy.js\");\\n/* harmony import */ var _raf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./raf */ \"./raf.js\");\\n/* harmony import */ var _capture__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./capture */ \"./capture.js\");\\n/* harmony import */ var worker_loader_inline_worker__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! worker-loader?inline!./worker */ \"../node_modules/worker-loader/dist/cjs.js?inline!./worker.js\");\\n/* harmony import */ var worker_loader_inline_worker__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(worker_loader_inline_worker__WEBPACK_IMPORTED_MODULE_3__);\\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils */ \"./utils.js\");\\n/* eslint-disable no-console */\\n\\n\\n\\n\\n // const rust = import(\\'../dist/differ\\');\\n// rust.then(m => m.greet(\\'Mani\\'));\\n\\nvar instanceExists = false;\\nvar create = function create(_ref) {\\n  var resolution = _ref.resolution,\\n      sensitivity = _ref.sensitivity,\\n      threshold = _ref.threshold,\\n      debug = _ref.debug,\\n      onFrame = _ref.onFrame,\\n      sourceDimensions = _ref.sourceDimensions,\\n      containerClassName = _ref.containerClassName;\\n\\n  if (!window) {\\n    throw new Error(\"\\\\n      Diffy.js is meant to be used in the browser. :^)\\\\n      For more info, see: https://github.com/maniart/diffyjs/blob/master/README.md\\\\n    \");\\n  }\\n\\n  if (!(\\'Worker\\' in window)) {\\n    throw new Error(\"\\\\n      Diffy.js requires Web Workers.\\\\n      It looks like this environment does not support this feature. :(\\\\n      For more info, see: https://github.com/maniart/diffyjs/blob/master/README.md\\\\n    \");\\n  }\\n\\n  if (instanceExists) {\\n    throw new Error(\"\\\\n      Yikes! It seems like a Diffy.js instance already exists on this page. :|\\\\n      For more info, see: https://github.com/maniart/diffyjs/blob/master/README.md\\\\n    \");\\n  }\\n\\n  var diffy = _Diffy__WEBPACK_IMPORTED_MODULE_0__[\"default\"].create({\\n    tickFn: _raf__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\\n    captureFn: _capture__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\\n    DiffWorker: worker_loader_inline_worker__WEBPACK_IMPORTED_MODULE_3___default.a,\\n    roundFn: _utils__WEBPACK_IMPORTED_MODULE_4__[\"round\"],\\n    win: window,\\n    doc: document,\\n    resolution: resolution,\\n    sensitivity: sensitivity,\\n    threshold: threshold,\\n    debug: debug,\\n    onFrame: onFrame,\\n    sourceDimensions: sourceDimensions,\\n    containerClassName: containerClassName\\n  });\\n  instanceExists = true;\\n  return diffy;\\n};\\n\\n//# sourceURL=webpack://Diffy/./index.js?')},\"./raf.js\":\n/*!****************!*\\\n  !*** ./raf.js ***!\n  \\****************/\n/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/*\\n  shim requestAnimationFrame api\\n  source: http://www.paulirish.com/2011/requestanimationframe-for-smart-animating/\\n*/\\nvar requestAnimFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\\n  window.setTimeout(callback, 1000 / 60);\\n};\\n\\n/* harmony default export */ __webpack_exports__[\"default\"] = (requestAnimFrame);\\n\\n//# sourceURL=webpack://Diffy/./raf.js?')},\"./utils.js\":\n/*!******************!*\\\n  !*** ./utils.js ***!\n  \\******************/\n/*! exports provided: createOnceLog, $, round, abs, polarize */function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createOnceLog\", function() { return createOnceLog; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"$\", function() { return $; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"round\", function() { return round; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"abs\", function() { return abs; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"polarize\", function() { return polarize; });\\n/* eslint-disable no-console */\\n\\n/*\\n  utility function to log only once\\n  useful for logging in loops\\n*/\\nvar createOnceLog = function createOnceLog() {\\n  var counter = 0;\\n  return function onceLog() {\\n    if (counter < 1) {\\n      var _console;\\n\\n      (_console = console).log.apply(_console, arguments);\\n    }\\n\\n    counter++;\\n  };\\n};\\n/*\\n  utility function to access DOM references\\n*/\\n\\nvar $ = function $(selector) {\\n  return document.querySelector(selector);\\n};\\n/*\\n  bitwise Math.round\\n*/\\n\\nvar round = function round(number) {\\n  return number + .5 >> 0;\\n};\\n/*\\n  bitwise Math.abs\\n*/\\n\\nvar abs = function abs(value) {\\n  return (value ^ value >> 31) - (value >> 31);\\n};\\n/*\\n  polarize pixel values based on value and threshold\\n*/\\n\\nvar polarize = function polarize(value, threshold) {\\n  return value > threshold ? 0x00 : 0XFF;\\n};\\n\\n//# sourceURL=webpack://Diffy/./utils.js?')},0:\n/*!************************!*\\\n  !*** multi ./index.js ***!\n  \\************************/\n/*! no static exports found */function(module,exports,__webpack_require__){eval('module.exports = __webpack_require__(/*! /Users/maninilchiani/Workspace/diffyjs/src/index.js */\"./index.js\");\\n\\n\\n//# sourceURL=webpack://Diffy/multi_./index.js?')}})});\n\n//# sourceURL=webpack:///../dist/diffy.min.js?");

/***/ }),

/***/ 0:
/*!*******************************!*\
  !*** multi ../demo/src/index ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__(/*! /Users/maninilchiani/Workspace/diffyjs/demo/src/index */\"../demo/src/index.js\");\n\n\n//# sourceURL=webpack:///multi_../demo/src/index?");

/***/ })

/******/ });